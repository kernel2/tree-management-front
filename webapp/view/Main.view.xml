<mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns="sap.m"
        controllerName="sap.ui.demo.treemanagement.controller.Main">
    <App>
        <!-- Page principale avec les donnÃ©es brutes des arbres -->
        <Page id="mainPage" title="Liste des Arbres">
            <content>
                <!-- Barre d'outils de filtre -->
                <Toolbar class="sapUiResponsivePadding">
                    <Title text="ğŸŒ³ DonnÃ©es Brutes des Arbres" level="H2" class="sapUiSmallMargin"/>
                    <Label text="Arrondissement:"/>
                    <Input placeholder="Entrez un arrondissement" liveChange="onFilterArrondissement"/>
                    <Label text="Genre:"/>
                    <Input placeholder="Entrez un genre d'arbre" liveChange="onFilterGenre"/>
                </Toolbar>

                <!-- Tableau principal des arbres -->
                <Table id="treeTable"
                       items="{treesModel>/trees}"
                       fixedLayout="Strict"
                       sticky="ColumnHeaders"
                       width="100%"
                       class="sapUiResponsiveMargin sapUiMediumMarginBottom">
                    <columns>
                        <!-- DÃ©finition des colonnes -->
                        <Column><Text text="ID Base" class="sapMTextBold"/></Column>
                        <Column><Text text="Type Emplacement" class="sapMTextBold"/></Column>
                        <Column><Text text="DomanialitÃ©" class="sapMTextBold"/></Column>
                        <Column><Text text="Arrondissement" class="sapMTextBold"/></Column>
                        <Column><Text text="ComplÃ©ment Adresse" class="sapMTextBold"/></Column>
                        <Column><Text text="NumÃ©ro" class="sapMTextBold"/></Column>
                        <Column><Text text="Adresse" class="sapMTextBold"/></Column>
                        <Column><Text text="ID Emplacement" class="sapMTextBold"/></Column>
                        <Column><Text text="LibellÃ© FranÃ§ais" class="sapMTextBold"/></Column>
                        <Column><Text text="Genre" class="sapMTextBold"/></Column>
                        <Column><Text text="EspÃ¨ce" class="sapMTextBold"/></Column>
                        <Column><Text text="VariÃ©tÃ© ou Cultivar" class="sapMTextBold"/></Column>
                        <Column><Text text="CirconfÃ©rence (cm)" class="sapMTextBold"/></Column>
                        <Column><Text text="Hauteur (m)" class="sapMTextBold"/></Column>
                        <Column><Text text="Stade de DÃ©veloppement" class="sapMTextBold"/></Column>
                        <Column><Text text="Remarquable" class="sapMTextBold"/></Column>
                        <Column><Text text="Longitude" class="sapMTextBold"/></Column>
                        <Column><Text text="Latitude" class="sapMTextBold"/></Column>
                    </columns>

                    <items>
                        <!-- DÃ©finitions des cellules -->
                        <ColumnListItem>
                            <cells>
                                <Text text="{treesModel>idbase}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>typeemplacement}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>domanialite}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>arrondissement}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>complementadresse}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>numero}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>adresse}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>idemplacement}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>libellefrancais}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>genre}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>espece}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>varieteoucultivar}" class="sapUiTinyMargin"/>
                                <Text text="{= ${treesModel>circonferenceencm} + ' cm'}" class="sapUiTinyMargin"/>
                                <Text text="{= ${treesModel>hauteurenm} + ' m'}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>stadedeveloppement}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>remarquable}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>geoPoint2d/lon}" class="sapUiTinyMargin"/>
                                <Text text="{treesModel>geoPoint2d/lat}" class="sapUiTinyMargin"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>

                <!-- Pagination -->
                <Toolbar class="paginationToolbar">
                    <Button icon="sap-icon://navigation-left-arrow" type="Transparent" tooltip="Page prÃ©cÃ©dente" press="onPreviousPage" enabled="{= ${treesModel>/currentPage} > 0 }" />
                    <Text text="{= 'Page ' + (${treesModel>/currentPage} + 1) + ' sur ' + ${treesModel>/totalPages} }" class="sapUiTinyMargin sapMTextBold"/>
                    <Button icon="sap-icon://navigation-right-arrow" type="Transparent" tooltip="Page suivante" press="onNextPage" enabled="{= ${treesModel>/currentPage} < (${treesModel>/totalPages} - 1) }" />
                </Toolbar>
            </content>
        </Page>

        <!-- Page pour les rÃ©sultats filtrÃ©s -->
        <Page id="filteredPage" title="RÃ©sultats FiltrÃ©s">
            <content>
                <!-- Tableau pour afficher les rÃ©sultats du filtre -->
                <Table id="filteredTreeTable"
                       items="{treesModel>/filteredTrees}"
                       fixedLayout="Strict"
                       sticky="ColumnHeaders"
                       width="100%"
                       class="sapUiResponsiveMargin sapUiMediumMarginBottom">
                    <columns>
                        <Column><Text text="ID Base" class="sapMTextBold"/></Column>
                        <Column><Text text="Type Emplacement" class="sapMTextBold"/></Column>
                        <Column><Text text="Arrondissement" class="sapMTextBold"/></Column>
                        <Column><Text text="Genre" class="sapMTextBold"/></Column>
                        <!-- Autres colonnes nÃ©cessaires... -->
                    </columns>

                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{treesModel>idbase}"/>
                                <Text text="{treesModel>typeemplacement}"/>
                                <Text text="{treesModel>arrondissement}"/>
                                <Text text="{treesModel>genre}"/>
                                <!-- Autres cellules nÃ©cessaires... -->
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>

                <!-- Bouton de retour vers la page principale -->
                <Button text="Retour" press="onBackToMainPage" type="Emphasized" class="sapUiSmallMargin"/>
            </content>
        </Page>
    </App>
</mvc:View>
